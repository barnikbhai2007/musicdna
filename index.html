<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Verse Battle</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Syncopate:wght@400;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@200;300;400;500;600;700;800&display=swap');
        
        body {
            font-family: 'Quicksand', sans-serif;
            background: #0a001a;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32' fill='none' stroke='%23e879f9' stroke-width='2'%3E%3Cpath d='M10 22V6l14-3v16'%3E%3C/path%3E%3Ccircle cx='8' cy='22' r='4' fill='%23c084fc'%3E%3C/circle%3E%3Ccircle cx='22' cy='20' r='4' fill='%23e879f9'%3E%3C/circle%3E%3C/svg%3E"), auto;
        }
        
        .title-font {
            font-family: 'Syncopate', sans-serif;
        }
        
        .subtitle-font {
            font-family: 'Montserrat', sans-serif;
        }
        
        .music-card {
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            background: linear-gradient(135deg, rgba(30, 10, 60, 0.8), rgba(10, 0, 30, 0.9));
            backdrop-filter: blur(10px);
            border: 1px solid rgba(233, 213, 255, 0.2);
            position: relative;
            overflow: hidden;
        }
        
        .music-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 100%;
            background: linear-gradient(to bottom, 
                rgba(233, 213, 255, 0.1) 0%, 
                rgba(233, 213, 255, 0) 5%,
                rgba(233, 213, 255, 0) 95%,
                rgba(233, 213, 255, 0.1) 100%);
            pointer-events: none;
        }
        
        .music-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 10px 30px rgba(233, 213, 255, 0.3);
            border-color: rgba(233, 213, 255, 0.5);
        }
        
        .btn {
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 0 20px rgba(233, 213, 255, 0.6);
        }
        
        .btn::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 5px;
            height: 5px;
            background: rgba(255, 255, 255, 0.5);
            opacity: 0;
            border-radius: 100%;
            transform: scale(1, 1) translate(-50%, -50%);
            transform-origin: 50% 50%;
        }
        
        .btn:focus:not(:active)::after {
            animation: ripple 1s ease-out;
        }
        
        @keyframes ripple {
            0% { transform: scale(0, 0); opacity: 0.5; }
            100% { transform: scale(20, 20); opacity: 0; }
        }
        
        .fade-in { animation: fadeIn 0.5s ease-in; }
        .slide-in { animation: slideIn 0.5s ease-out; }
        .pulse { animation: pulse 2s infinite; }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideIn {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(233, 213, 255, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(233, 213, 255, 0); }
            100% { box-shadow: 0 0 0 0 rgba(233, 213, 255, 0); }
        }
        
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            animation: fall 3s ease-in infinite;
            pointer-events: none;
            z-index: 100;
        }
        
        @keyframes fall {
            0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }

        .progress-bar {
            height: 6px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #c084fc, #e879f9);
            transition: width 0.5s ease;
        }
        
        .music-image {
            position: relative;
            overflow: hidden;
        }
        
        .music-image video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .glow-border {
            box-shadow: 0 0 20px rgba(233, 213, 255, 0.6);
            animation: glow 2s infinite alternate;
        }
        
        @keyframes glow {
            from { box-shadow: 0 0 20px rgba(233, 213, 255, 0.6); }
            to { box-shadow: 0 0 30px rgba(216, 180, 254, 0.8); }
        }
        
        .concert-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            background: radial-gradient(ellipse at bottom, #1B2735 0%, #090A0F 100%);
        }
        
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
            pointer-events: none;
        }
        
        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 50%;
            animation: twinkle 5s infinite;
            pointer-events: none;
        }
        
        @keyframes twinkle {
            0% { opacity: 0.2; }
            50% { opacity: 1; }
            100% { opacity: 0.2; }
        }
        
        .sound-waves {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
            pointer-events: none;
            opacity: 0.1;
        }
        
        .wave {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 200px;
            background: rgba(233, 213, 255, 0.1);
            border-radius: 50%;
            transform-origin: 50% 100%;
            animation: wave 15s infinite linear;
        }
        
        .wave:nth-child(2) { animation-delay: 3s; opacity: 0.3; }
        .wave:nth-child(3) { animation-delay: 6s; opacity: 0.2; }
        .wave:nth-child(4) { animation-delay: 9s; opacity: 0.1; }
        
        @keyframes wave {
            0% { transform: scale(0); opacity: 1; }
            100% { transform: scale(3); opacity: 0; }
        }
        
        .click-ripple {
            position: absolute;
            border-radius: 50%;
            background-color: rgba(233, 213, 255, 0.4);
            transform: scale(0);
            animation: clickRipple 0.6s linear;
            pointer-events: none;
            z-index: 9999;
        }
        
        @keyframes clickRipple {
            0% { transform: scale(0); opacity: 0.8; }
            100% { transform: scale(10); opacity: 0; }
        }
        
        .footer {
            background: linear-gradient(90deg, rgba(10, 0, 26, 0.8), rgba(20, 0, 50, 0.8));
            backdrop-filter: blur(5px);
            border-top: 1px solid rgba(233, 213, 255, 0.2);
        }
        
        .heart {
            display: inline-block;
            animation: heartbeat 1.5s infinite;
            color: #ff3366;
        }
        
        @keyframes heartbeat {
            0% { transform: scale(1); }
            25% { transform: scale(1.1); }
            50% { transform: scale(1); }
            75% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .india-flag {
            display: inline-block;
            margin-left: 5px;
        }
        
        .holographic::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, 
                rgba(255,255,255,0) 0%, 
                rgba(255,255,255,0.05) 25%, 
                rgba(255,255,255,0.1) 50%, 
                rgba(255,255,255,0.05) 75%, 
                rgba(255,255,255,0) 100%);
            animation: holographicShine 3s linear infinite;
            pointer-events: none;
            z-index: 2;
        }
        
        @keyframes holographicShine {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .click-particle {
            position: absolute;
            background: radial-gradient(circle, #e879f9 0%, transparent 70%);
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
            opacity: 0;
            transform: translate(-50%, -50%);
        }
        
        @keyframes particleAnimation {
            0% { transform: translate(-50%, -50%) scale(0); opacity: 0.8; }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 0; }
        }
        
        .music-placeholder {
            background: linear-gradient(135deg, #1e0a3c 25%, #0a001a 25%, #0a001a 50%, #1e0a3c 50%, #1e0a3c 75%, #0a001a 75%, #0a001a 100%);
            background-size: 20px 20px;
            position: relative;
            overflow: hidden;
        }
        
        .music-placeholder::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 50%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(233, 213, 255, 0.2), transparent);
            animation: shine 2s infinite;
        }
        
        @keyframes shine {
            0% { left: -100%; }
            100% { left: 150%; }
        }
        
        .neon-text {
            text-shadow: 0 0 5px rgba(233, 213, 255, 0.8), 
                         0 0 10px rgba(233, 213, 255, 0.5), 
                         0 0 15px rgba(233, 213, 255, 0.3);
        }
        
        .visual-click {
            position: absolute;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(233, 213, 255, 0.8) 0%, rgba(233, 213, 255, 0) 70%);
            transform: translate(-50%, -50%) scale(0);
            animation: visualClick 0.5s ease-out forwards;
            pointer-events: none;
            z-index: 9999;
        }
        
        @keyframes visualClick {
            0% { transform: translate(-50%, -50%) scale(0); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(2); opacity: 0; }
        }
        
        .equalizer {
            position: fixed;
            bottom: 60px;
            right: 20px;
            display: flex;
            align-items: flex-end;
            height: 30px;
            gap: 3px;
            z-index: 100;
            pointer-events: none;
        }
        
        .equalizer-bar {
            width: 4px;
            background: linear-gradient(to top, #c084fc, #e879f9);
            border-radius: 2px;
        }
        
        @keyframes equalize1 { 0%, 100% { height: 10px; } 50% { height: 25px; } }
        @keyframes equalize2 { 0%, 100% { height: 20px; } 50% { height: 5px; } }
        @keyframes equalize3 { 0%, 100% { height: 15px; } 50% { height: 30px; } }
        @keyframes equalize4 { 0%, 100% { height: 5px; } 50% { height: 20px; } }
        @keyframes equalize5 { 0%, 100% { height: 25px; } 50% { height: 10px; } }
        
        .eq1 { animation: equalize1 0.8s ease-in-out infinite; }
        .eq2 { animation: equalize2 1.0s ease-in-out infinite; }
        .eq3 { animation: equalize3 0.7s ease-in-out infinite; }
        .eq4 { animation: equalize4 0.9s ease-in-out infinite; }
        .eq5 { animation: equalize5 1.1s ease-in-out infinite; }
        
        .vs-badge {
            background: linear-gradient(135deg, #c084fc, #e879f9);
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            box-shadow: 0 0 20px rgba(233, 213, 255, 0.6);
            position: relative;
            z-index: 10;
        }
        
        .vs-badge::before {
            content: '';
            position: absolute;
            top: -5px;
            left: -5px;
            right: -5px;
            bottom: -5px;
            background: transparent;
            border: 2px solid rgba(233, 213, 255, 0.3);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        .music-title-bg {
            background: linear-gradient(90deg, rgba(233, 213, 255, 0.1), rgba(216, 180, 254, 0.1));
            border-left: 3px solid #e879f9;
        }
        
        .stat-bar {
            height: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            overflow: hidden;
        }
        
        .stat-fill-1 { height: 100%; background: linear-gradient(90deg, #c084fc, #e879f9); }
        .stat-fill-2 { height: 100%; background: linear-gradient(90deg, #60a5fa, #3b82f6); }
        .stat-fill-3 { height: 100%; background: linear-gradient(90deg, #f472b6, #ec4899); }
        
        .floating-notes {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }
        
        .music-note {
            position: absolute;
            font-size: 24px;
            color: rgba(233, 213, 255, 0.3);
            animation: floatNote 15s linear infinite;
            pointer-events: none;
        }
        
        @keyframes floatNote {
            0% { transform: translateY(100vh) translateX(0) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100px) translateX(100px) rotate(360deg); opacity: 0; }
        }
        
        .vinyl {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: radial-gradient(circle at center, 
                #000 0%, 
                #000 30%, 
                #333 30%, 
                #333 35%, 
                #000 35%, 
                #000 40%, 
                #333 40%, 
                #333 45%, 
                #000 45%, 
                #000 48%, 
                rgba(0,0,0,0.5) 48%, 
                rgba(0,0,0,0.5) 100%);
            animation: spin 4s linear infinite;
            box-shadow: 0 0 10px rgba(0,0,0,0.5);
            position: relative;
        }
        
        .vinyl::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 15%;
            height: 15%;
            background: #e879f9;
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(233, 213, 255, 0.8);
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .play-indicator {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(0, 0, 0, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .music-card:hover .play-indicator,
        .music-card.playing .play-indicator {
            opacity: 1;
        }
        
        .play-indicator svg {
            width: 20px;
            height: 20px;
            fill: #fff;
        }
        
        .genre-tag {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 600;
            margin-right: 5px;
            margin-bottom: 5px;
            background: rgba(233, 213, 255, 0.2);
            border: 1px solid rgba(233, 213, 255, 0.3);
        }
        
        .artist-name {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
            margin-top: 2px;
        }
        
        .dna-strand {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1px;
            margin: 20px 0;
        }
        
        .dna-node {
            width: 4px;
            height: 20px;
            background: linear-gradient(to bottom, #c084fc, #e879f9);
            border-radius: 2px;
            position: relative;
        }
        
        .dna-node::before,
        .dna-node::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 2px;
            background: rgba(233, 213, 255, 0.5);
            left: 50%;
            transform: translateX(-50%);
        }
        
        .dna-node::before { top: 4px; }
        .dna-node::after { bottom: 4px; }
        
        .dna-node:nth-child(even) { height: 30px; }
        .dna-node:nth-child(even)::before { top: 6px; }
        .dna-node:nth-child(even)::after { bottom: 6px; }
        
        .mood-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            margin: 5px;
            background: rgba(233, 213, 255, 0.1);
            border: 1px solid rgba(233, 213, 255, 0.2);
            transition: all 0.3s ease;
        }
        
        .mood-badge:hover {
            background: rgba(233, 213, 255, 0.2);
            transform: translateY(-2px);
        }
        
        .mood-badge.active {
            background: linear-gradient(135deg, #c084fc, #e879f9);
            box-shadow: 0 0 10px rgba(233, 213, 255, 0.5);
        }
        
        .music-playing-animation {
            display: flex;
            align-items: flex-end;
            height: 20px;
            gap: 2px;
        }
        
        .music-bar {
            width: 3px;
            background: #e879f9;
            border-radius: 1px;
        }
        
        .music-bar-1 { animation: musicBar 0.8s ease-in-out infinite; }
        .music-bar-2 { animation: musicBar 1.0s ease-in-out infinite; }
        .music-bar-3 { animation: musicBar 0.6s ease-in-out infinite; }
        .music-bar-4 { animation: musicBar 0.9s ease-in-out infinite; }
        
        @keyframes musicBar {
            0%, 100% { height: 5px; }
            50% { height: 20px; }
        }
    </style>
</head>
<body class="text-white">
    <div class="concert-bg"></div>
    <div class="stars" id="stars"></div>
    <div class="sound-waves">
        <div class="wave"></div>
        <div class="wave"></div>
        <div class="wave"></div>
        <div class="wave"></div>
    </div>
    <div class="floating-notes" id="floating-notes"></div>
    
    <div class="equalizer">
        <div class="equalizer-bar eq1"></div>
        <div class="equalizer-bar eq2"></div>
        <div class="equalizer-bar eq3"></div>
        <div class="equalizer-bar eq4"></div>
        <div class="equalizer-bar eq5"></div>
    </div>
    
    <div id="app" class="container mx-auto px-4 py-8 max-w-6xl relative">
        <div id="home-screen" class="flex flex-col items-center justify-center min-h-[80vh] fade-in">
            <h1 class="text-4xl md:text-6xl font-bold text-center mb-6 neon-text title-font tracking-wider">MUSIC VERSE BATTLE</h1>
            <p class="text-lg md:text-xl text-center mb-12 max-w-2xl text-gray-300 subtitle-font">Discover your ultimate favorite song through exciting head-to-head battles in a heavenly concert experience. Your chosen track moves forward to face the next challenger!</p>
            <button id="start-button" class="btn bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-bold py-4 px-10 rounded-lg text-xl shadow-lg subtitle-font holographic">
                START THE CONCERT
            </button>
        </div>

        <div id="battle-screen" class="hidden fade-in">
            <div class="text-center mb-10">
                <h2 class="text-2xl md:text-3xl font-bold mb-3 title-font neon-text">Battle <span id="current-battle">1</span> of <span id="total-battles">43</span></h2>
                <p class="text-gray-300 mb-5 subtitle-font">Choose your favorite track</p>
                <div class="progress-bar w-full max-w-xl mx-auto mb-3">
                    <div id="progress-fill" class="progress-fill" style="width: 0%"></div>
                </div>
                <p class="text-sm text-gray-400 subtitle-font">Songs remaining: <span id="songs-remaining">43</span></p>
            </div>
            
            <div class="flex flex-col md:flex-row justify-center items-center gap-8 md:gap-16 my-8">
                <div id="champion-card" class="music-card rounded-xl overflow-hidden shadow-lg w-full md:w-96 slide-in">
                    <div class="h-56 bg-gray-900 flex items-center justify-center overflow-hidden relative">
                        <div class="music-image w-full h-full bg-center bg-cover">
                            <video class="music-video" muted loop playsinline>
                                <source type="video/mp4">
                            </video>
                            <div class="vinyl-container w-32 h-32 relative hidden">
                                <div class="vinyl"></div>
                            </div>
                        </div>
                        <div class="play-indicator">
                            <div class="music-playing-animation">
                                <div class="music-bar music-bar-1" style="height: 10px;"></div>
                                <div class="music-bar music-bar-2" style="height: 15px;"></div>
                                <div class="music-bar music-bar-3" style="height: 8px;"></div>
                                <div class="music-bar music-bar-4" style="height: 12px;"></div>
                            </div>
                        </div>
                    </div>
                    <div class="p-5">
                        <div class="music-title-bg p-3 mb-4">
                            <h3 class="song-title text-xl font-bold title-font">Current Champion</h3>
                            <p class="artist-name subtitle-font">Artist Name</p>
                            <div class="flex flex-wrap mt-2">
                                <span class="genre-tag">Genre</span>
                            </div>
                        </div>
                        <button class="choose-btn btn w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 py-3 px-4 rounded-lg font-medium subtitle-font" data-index="0">
                            Choose This Song
                        </button>
                    </div>
                </div>
                
                <div class="vs-badge title-font text-2xl font-bold">VS</div>
                
                <div id="challenger-card" class="music-card rounded-xl overflow-hidden shadow-lg w-full md:w-96 slide-in">
                    <div class="h-56 bg-gray-900 flex items-center justify-center overflow-hidden relative">
                        <div class="music-image w-full h-full bg-center bg-cover">
                            <video class="music-video" muted loop playsinline>
                                <source type="video/mp4">
                            </video>
                            <div class="vinyl-container w-32 h-32 relative hidden">
                                <div class="vinyl"></div>
                            </div>
                        </div>
                        <div class="play-indicator">
                            <div class="music-playing-animation">
                                <div class="music-bar music-bar-1" style="height: 10px;"></div>
                                <div class="music-bar music-bar-2" style="height: 15px;"></div>
                                <div class="music-bar music-bar-3" style="height: 8px;"></div>
                                <div class="music-bar music-bar-4" style="height: 12px;"></div>
                            </div>
                        </div>
                    </div>
                    <div class="p-5">
                        <div class="music-title-bg p-3 mb-4">
                            <h3 class="song-title text-xl font-bold title-font">Challenger</h3>
                            <p class="artist-name subtitle-font">Artist Name</p>
                            <div class="flex flex-wrap mt-2">
                                <span class="genre-tag">Genre</span>
                            </div>
                        </div>
                        <button class="choose-btn btn w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 py-3 px-4 rounded-lg font-medium subtitle-font" data-index="1">
                            Choose This Song
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div id="result-screen" class="hidden fade-in relative">
            <div class="flex flex-col items-center justify-center min-h-[80vh] py-8 relative z-10">
                <div class="text-center mb-10">
                    <h2 class="text-4xl md:text-5xl font-bold title-font neon-text mb-3">YOUR MUSIC DNA</h2>
                    <div class="w-60 h-1 bg-gradient-to-r from-purple-500 to-pink-500 mx-auto"></div>
                </div>
                
                <div class="relative mb-10">
                    <div class="absolute -top-4 -left-4 w-8 h-8 border-t-2 border-l-2 border-purple-400"></div>
                    <div class="absolute -top-4 -right-4 w-8 h-8 border-t-2 border-r-2 border-pink-500"></div>
                    <div class="absolute -bottom-4 -left-4 w-8 h-8 border-b-2 border-l-2 border-purple-400"></div>
                    <div class="absolute -bottom-4 -right-4 w-8 h-8 border-b-2 border-r-2 border-pink-500"></div>
                    
                    <div id="winner-card" class="music-card rounded-xl overflow-hidden shadow-lg w-full max-w-md slide-in glow-border">
                        <div class="h-64 bg-gray-900 flex items-center justify-center overflow-hidden relative">
                            <div class="winner-image w-full h-full bg-center bg-cover">
                                <video class="music-video" muted loop playsinline>
                                    <source type="video/mp4">
                                </video>
                                <div class="vinyl-container w-40 h-40 relative hidden">
                                    <div class="vinyl"></div>
                                </div>
                            </div>
                            <div class="play-indicator">
                                <div class="music-playing-animation">
                                    <div class="music-bar music-bar-1" style="height: 10px;"></div>
                                    <div class="music-bar music-bar-2" style="height: 15px;"></div>
                                    <div class="music-bar music-bar-3" style="height: 8px;"></div>
                                    <div class="music-bar music-bar-4" style="height: 12px;"></div>
                                </div>
                            </div>
                        </div>
                        <div class="p-6">
                            <h3 class="winner-title text-2xl font-bold text-center title-font neon-text">Song Title</h3>
                            <p class="winner-artist text-center subtitle-font text-gray-300 mt-1">Artist Name</p>
                            <div class="flex flex-wrap justify-center mt-3">
                                <span class="genre-tag">Genre</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="music-card p-6 rounded-xl max-w-2xl mx-auto mb-10 glow-border">
                    <h3 class="text-2xl font-bold mb-4 text-center title-font text-purple-400">YOU ARE A <span id="listener-type" class="text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500">MELODIC DREAMER</span></h3>
                    <p id="listener-description" class="text-gray-300 text-center mb-6 subtitle-font">Your music DNA reveals a deep appreciation for emotional melodies and atmospheric soundscapes.</p>
                    <div class="dna-strand">
                        <div class="dna-node"></div>
                        <div class="dna-node"></div>
                        <div class="dna-node"></div>
                        <div class="dna-node"></div>
                        <div class="dna-node"></div>
                        <div class="dna-node"></div>
                        <div class="dna-node"></div>
                        <div class="dna-node"></div>
                        <div class="dna-node"></div>
                        <div class="dna-node"></div>
                        <div class="dna-node"></div>
                        <div class="dna-node"></div>
                        <div class="dna-node"></div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-6">
                        <div>
                            <h4 class="text-center text-purple-300 font-semibold mb-3 subtitle-font">GENRE AFFINITY</h4>
                            <div class="flex flex-col gap-3">
                                <div>
                                    <div class="flex justify-between text-xs mb-1">
                                        <span>EDM</span>
                                        <span id="genre-edm-percent">85%</span>
                                    </div>
                                    <div class="stat-bar">
                                        <div id="genre-edm" class="stat-fill-1" style="width: 85%"></div>
                                    </div>
                                </div>
                                <div>
                                    <div class="flex justify-between text-xs mb-1">
                                        <span>Pop</span>
                                        <span id="genre-piano-percent">65%</span>
                                    </div>
                                    <div class="stat-bar">
                                        <div id="genre-piano" class="stat-fill-2" style="width: 65%"></div>
                                    </div>
                                </div>
                                <div>
                                    <div class="flex justify-between text-xs mb-1">
                                        <span>Electronic</span>
                                        <span id="genre-jazz-percent">45%</span>
                                    </div>
                                    <div class="stat-bar">
                                        <div id="genre-jazz" class="stat-fill-3" style="width: 45%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div>
                            <h4 class="text-center text-purple-300 font-semibold mb-3 subtitle-font">MOOD PREFERENCE</h4>
                            <div class="flex flex-wrap justify-center">
                                <div class="mood-badge active">Chill</div>
                                <div class="mood-badge">Energetic</div>
                                <div class="mood-badge">Melancholic</div>
                                <div class="mood-badge">Uplifting</div>
                            </div>
                        </div>
                        <div>
                            <h4 class="text-center text-purple-300 font-semibold mb-3 subtitle-font">LISTENING STYLE</h4>
                            <div class="flex flex-col gap-3">
                                <div>
                                    <div class="flex justify-between text-xs mb-1">
                                        <span>Immersive</span>
                                        <span id="style-immersive-percent">90%</span>
                                    </div>
                                    <div class="stat-bar">
                                        <div id="style-immersive" class="stat-fill-1" style="width: 90%"></div>
                                    </div>
                                </div>
                                <div>
                                    <div class="flex justify-between text-xs mb-1">
                                        <span>Background</span>
                                        <span id="style-background-percent">40%</span>
                                    </div>
                                    <div class="stat-bar">
                                        <div id="style-background" class="stat-fill-2" style="width: 40%"></div>
                                    </div>
                                </div>
                                <div>
                                    <div class="flex justify-between text-xs mb-1">
                                        <span>Social</span>
                                        <span id="style-social-percent">55%</span>
                                    </div>
                                    <div class="stat-bar">
                                        <div id="style-social" class="stat-fill-3" style="width: 55%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="flex gap-6">
                    <button id="restart-button" class="btn bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-bold py-3 px-8 rounded-lg text-lg shadow-lg subtitle-font">
                        RESTART
                    </button>
                    <button id="share-button" class="btn bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-bold py-3 px-8 rounded-lg text-lg shadow-lg subtitle-font">
                        SHARE RESULT
                    </button>
                </div>
            </div>
        </div>
        
        <footer class="footer fixed bottom-0 left-0 w-full py-3 px-4 text-center text-sm text-gray-400 z-10">
            <p>
                Made with <span class="heart">❤</span> by Barnik Bhai in 
                <span class="india-flag">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="16" viewBox="0 0 24 16" class="inline-block">
                        <rect width="24" height="5" fill="#FF9933"/>
                        <rect y="5" width="24" height="6" fill="#FFFFFF"/>
                        <rect y="11" width="24" height="5" fill="#138808"/>
                        <circle cx="12" cy="8" r="1.5" fill="#000080"/>
                    </svg>
                </span> 
                INDIA
            </p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Create click sound
            const clickSound = new Audio('https://www.soundjay.com/buttons/beep-01a.mp3');

            // Song data with video IDs
            const songs = [
                { title: "Lonely Together", artist: "Avicii ft. Rita Ora", genre: "EDM", mood: "Energetic", video: "lty1.mp4" },
                { title: "Blinding Lights", artist: "The Weeknd", genre: "Synth-pop", mood: "Nostalgic", video: "bli1.mp4" },
                { title: "Starboy", artist: "The Weeknd", genre: "R&B", mood: "Confident", video: "sta1.mp4" },
                { title: "I Had Some Help", artist: "Post Malone ft. Morgan Wallen", genre: "Country Pop", mood: "Playful", video: "ihs1.mp4" },
                { title: "がらくた - JUNK", artist: "Kenshi Yonezu", genre: "J-Pop", mood: "Reflective", video: "gar1.mp4" },
                { title: "Ma Meilleure Ennemie", artist: "Stromae", genre: "Electronic", mood: "Dramatic", video: "mme1.mp4" },
                { title: "Remember Me", artist: "d4vd", genre: "Indie Pop", mood: "Melancholic", video: "rem1.mp4" },
                { title: "Wasteland", artist: "Royal & the Serpent", genre: "Alternative", mood: "Rebellious", video: "was1.mp4" },
                { title: "The Line", artist: "Twenty One Pilots", genre: "Alternative", mood: "Reflective", video: "tli1.mp4" },
                { title: "To Ashes and Blood", artist: "Woodkid", genre: "Indie Pop", mood: "Cinematic", video: "taa1.mp4" },
                { title: "Spin The Wheel", artist: "Arcane", genre: "Electronic", mood: "Energetic", video: "stw1.mp4" },
                { title: "Bella Ciao", artist: "Manu Pilas", genre: "Folk", mood: "Rebellious", video: "bel1.mp4" },
                { title: "I Don't Wanna Wait", artist: "David Guetta", genre: "EDM", mood: "Energetic", video: "idw1.mp4" },
                { title: "Watermelon Sugar", artist: "Harry Styles", genre: "Pop", mood: "Playful", video: "was2.mp4" },
                { title: "Stars Will Align", artist: "Kygo", genre: "EDM", mood: "Uplifting", video: "swa1.mp4" },
                { title: "Paint The Town Blue", artist: "Ashnikko", genre: "Pop", mood: "Rebellious", video: "ptt1.mp4" },
                { title: "Enemy", artist: "Imagine Dragons ft. JID", genre: "Alternative", mood: "Intense", video: "ene1.mp4" },
                { title: "A Sky Full of Stars", artist: "Coldplay", genre: "Pop", mood: "Uplifting", video: "asf1.mp4" },
                { title: "Hymn for the Weekend", artist: "Coldplay", genre: "Pop", mood: "Celebratory", video: "hft1.mp4" },
                { title: "Closer", artist: "The Chainsmokers", genre: "EDM", mood: "Nostalgic", video: "clo1.mp4" },
                { title: "Heaven", artist: "Avicii", genre: "EDM", mood: "Uplifting", video: "hea1.mp4" },
                { title: "Save Your Tears (Remix)", artist: "The Weeknd ft. Ariana Grande", genre: "Pop", mood: "Melancholic", video: "syt1.mp4" },
                { title: "Baby", artist: "Justin Bieber", genre: "Pop", mood: "Flirtatious", video: "bab1.mp4" },
                { title: "Strongest (Alan Walker Remix)", artist: "Ina Wroldsen", genre: "EDM", mood: "Empowering", video: "str1.mp4" },
                { title: "Broken Arrows", artist: "Avicii", genre: "EDM", mood: "Hopeful", video: "bro1.mp4" },
                { title: "Something Just Like This", artist: "The Chainsmokers", genre: "EDM", mood: "Romantic", video: "sjl1.mp4" },
                { title: "Rise Up", artist: "TheFatRat", genre: "Electronic", mood: "Uplifting", video: "ris1.mp4" },
                { title: "Treat You Better", artist: "Shawn Mendes", genre: "Pop", mood: "Romantic", video: "tyb1.mp4" },
                { title: "On & On", artist: "Cartoon", genre: "Electronic", mood: "Energetic", video: "ono1.mp4" },
                { title: "Sunshine", artist: "OneRepublic", genre: "Pop", mood: "Uplifting", video: "sun1.mp4" },
                { title: "Viva La Vida", artist: "Coldplay", genre: "Pop", mood: "Epic", video: "viv1.mp4" },
                { title: "Happier", artist: "Marshmello", genre: "EDM", mood: "Bittersweet", video: "hap1.mp4" },
                { title: "Let Her Go", artist: "Passenger", genre: "Folk Pop", mood: "Melancholic", video: "lhg1.mp4" },
                { title: "Let Me Down Slowly", artist: "Alec Benjamin", genre: "Pop", mood: "Melancholic", video: "lmd1.mp4" },
                { title: "7 Years", artist: "Lukas Graham", genre: "Pop", mood: "Reflective", video: "sev1.mp4" },
                { title: "Superheroes", artist: "The Script", genre: "Pop", mood: "Inspirational", video: "sup1.mp4" },
                { title: "Hall of Fame", artist: "The Script ft. will.i.am", genre: "Pop", mood: "Motivational", video: "hof1.mp4" },
                { title: "L'escut al pit", artist: "FC Barcelona", genre: "Anthem", mood: "Proud", video: "lap1.mp4" },
                { title: "Sapphire", artist: "Ed Sheeran", genre: "Pop", mood: "Reflective", video: "sap1.mp4" },
                { title: "Night Changes", artist: "One Direction", genre: "Pop", mood: "Nostalgic", video: "nig1.mp4" },
                { title: "Yellow", artist: "Coldplay", genre: "Pop", mood: "Romantic", video: "yel1.mp4" },
                { title: "For the First Time", artist: "The Script", genre: "Pop", mood: "Reflective", video: "ftf1.mp4" },
                { title: "The Scientist", artist: "Coldplay", genre: "Pop", mood: "Melancholic", video: "sci1.mp4" },
                { title: "Nothing", artist: "The Script", genre: "Pop", mood: "Heartbroken", video: "not1.mp4" },
                { title: "Paradise", artist: "Coldplay", genre: "Pop", mood: "Uplifting", video: "par1.mp4" }
            ];

            // Music categories for analysis
            const musicCategories = {
                edm: ["Lonely Together", "I Don't Wanna Wait", "Stars Will Align", "Closer", "Heaven", "Strongest (Alan Walker Remix)", "Broken Arrows", "Something Just Like This", "Happier"],
                pop: ["Blinding Lights", "Watermelon Sugar", "Save Your Tears (Remix)", "Baby", "Treat You Better", "Sunshine", "Viva La Vida", "Let Me Down Slowly", "7 Years", "Superheroes", "Hall of Fame", "Sapphire", "Night Changes", "Yellow", "For the First Time", "The Scientist", "Nothing", "Paradise"],
                electronic: ["Starboy", "Ma Meilleure Ennemie", "Spin The Wheel", "Rise Up", "On & On"],
                alternative: ["Wasteland", "The Line", "Enemy"],
                folk: ["Let Her Go", "Bella Ciao"],
                jpop: ["がらくた - JUNK"],
                indie: ["Remember Me", "To Ashes and Blood"],
                anthem: ["L'escut al pit"]
            };

            // Music moods for analysis
            const musicMoods = {
                energetic: ["Lonely Together", "I Don't Wanna Wait", "Spin The Wheel", "On & On"],
                melancholic: ["Remember Me", "Save Your Tears (Remix)", "Let Her Go", "Let Me Down Slowly", "The Scientist", "Nothing"],
                uplifting: ["Stars Will Align", "A Sky Full of Stars", "Hymn for the Weekend", "Heaven", "Rise Up", "Sunshine", "Paradise"],
                romantic: ["Treat You Better", "Something Just Like This", "Yellow"],
                reflective: ["がらくた - JUNK", "The Line", "7 Years", "Sapphire", "For the First Time"],
                rebellious: ["Wasteland", "Paint The Town Blue", "Bella Ciao"],
                epic: ["Viva La Vida"],
                inspirational: ["Superheroes", "Hall of Fame"]
            };

            // Listener types based on music preferences
            const listenerTypes = [
                {
                    type: "RHYTHM ENTHUSIAST",
                    description: "Your music DNA reveals a deep connection to rhythm and beat. You're drawn to music that makes you move, whether it's the pulsing energy of EDM or the groove of electronic music.",
                    genres: { edm: 90, pop: 60, electronic: 85, alternative: 30 },
                    moods: ["energetic", "uplifting"]
                },
                {
                    type: "MELODIC DREAMER",
                    description: "Your music DNA reveals a deep appreciation for emotional melodies and atmospheric soundscapes. You connect with music on a profound level, often using it as an escape.",
                    genres: { pop: 85, alternative: 75, folk: 80, indie: 70 },
                    moods: ["melancholic", "romantic", "reflective"]
                },
                {
                    type: "ECLECTIC EXPLORER",
                    description: "Your music DNA shows an eclectic taste that spans multiple genres. You're curious and open-minded, always seeking new musical experiences.",
                    genres: { pop: 75, edm: 70, electronic: 65, jpop: 60, alternative: 70, folk: 65 },
                    moods: ["energetic", "uplifting", "rebellious"]
                }
            ];

            // Music state
            let remainingSongs = [...songs];
            let currentChampion = null;
            let battleCount = 0;
            let totalBattles = songs.length - 1;
            let currentlyPlaying = null;

            // DOM elements
            const homeScreen = document.getElementById('home-screen');
            const battleScreen = document.getElementById('battle-screen');
            const resultScreen = document.getElementById('result-screen');
            const startButton = document.getElementById('start-button');
            const restartButton = document.getElementById('restart-button');
            const shareButton = document.getElementById('share-button');
            const currentBattleEl = document.getElementById('current-battle');
            const totalBattlesEl = document.getElementById('total-battles');
            const songsRemainingEl = document.getElementById('songs-remaining');
            const progressFill = document.getElementById('progress-fill');

            // Initialize stars
            function createStars() {
                const starsContainer = document.getElementById('stars');
                for (let i = 0; i < 200; i++) {
                    const star = document.createElement('div');
                    star.classList.add('star');
                    star.style.left = `${Math.random() * 100}%`;
                    star.style.top = `${Math.random() * 100}%`;
                    star.style.width = `${Math.random() * 2 + 1}px`;
                    star.style.height = star.style.width;
                    star.style.animationDelay = `${Math.random() * 5}s`;
                    starsContainer.appendChild(star);
                }
            }

            // Initialize floating music notes
            function createFloatingNotes() {
                const notesContainer = document.getElementById('floating-notes');
                const notes = ['♪', '♫', '♬', '♩', '♭', '♮', '♯'];
                for (let i = 0; i < 30; i++) {
                    const note = document.createElement('div');
                    note.classList.add('music-note');
                    note.textContent = notes[Math.floor(Math.random() * notes.length)];
                    note.style.left = `${Math.random() * 100}%`;
                    note.style.animationDelay = `${Math.random() * 15}s`;
                    note.style.animationDuration = `${15 + Math.random() * 10}s`;
                    note.style.opacity = `${Math.random() * 0.5 + 0.1}`;
                    note.style.fontSize = `${Math.random() * 20 + 15}px`;
                    notesContainer.appendChild(note);
                }
            }

            // Click effect with sound
            document.addEventListener('click', function(e) {
                clickSound.currentTime = 0;
                clickSound.play();
                
                const ripple = document.createElement('div');
                ripple.classList.add('click-ripple');
                ripple.style.left = `${e.pageX}px`;
                ripple.style.top = `${e.pageY}px`;
                document.body.appendChild(ripple);
                
                const visualClick = document.createElement('div');
                visualClick.classList.add('visual-click');
                visualClick.style.left = `${e.pageX}px`;
                visualClick.style.top = `${e.pageY}px`;
                document.body.appendChild(visualClick);
                
                const colors = ['#c084fc', '#e879f9', '#60a5fa', '#f472b6', '#a78bfa'];
                for (let i = 0; i < 8; i++) {
                    const particle = document.createElement('div');
                    particle.classList.add('click-particle');
                    particle.style.width = `${Math.random() * 10 + 5}px`;
                    particle.style.height = particle.style.width;
                    particle.style.left = `${e.pageX}px`;
                    particle.style.top = `${e.pageY}px`;
                    particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                    particle.style.animation = `particleAnimation ${Math.random() * 0.6 + 0.4}s forwards`;
                    document.body.appendChild(particle);
                    
                    const angle = Math.random() * Math.PI * 2;
                    const distance = Math.random() * 100 + 50;
                    const x = Math.cos(angle) * distance;
                    const y = Math.sin(angle) * distance;
                    
                    setTimeout(() => {
                        particle.style.transform = `translate(${x}px, ${y}px) scale(${Math.random() * 0.5 + 0.5})`;
                        particle.style.opacity = '0';
                    }, 10);
                    
                    setTimeout(() => particle.remove(), 1000);
                }
                
                setTimeout(() => ripple.remove(), 600);
                setTimeout(() => visualClick.remove(), 500);
            });

            // Start battle
            function startBattle() {
                homeScreen.classList.add('hidden');
                battleScreen.classList.remove('hidden');
                
                if (!currentChampion) {
                    currentChampion = remainingSongs.shift();
                }
                
                const challenger = remainingSongs.shift();
                updateBattleUI(currentChampion, challenger);
            }

            // Update battle UI
            function updateBattleUI(champion, challenger) {
                battleCount++;
                currentBattleEl.textContent = battleCount;
                totalBattlesEl.textContent = totalBattles;
                songsRemainingEl.textContent = remainingSongs.length;
                
                const progress = (battleCount / totalBattles) * 100;
                progressFill.style.width = `${progress}%`;
                
                const championCard = document.querySelector('#champion-card .song-title');
                const championArtist = document.querySelector('#champion-card .artist-name');
                const championGenre = document.querySelector('#champion-card .genre-tag');
                const championVideo = document.querySelector('#champion-card .music-video source');
                
                const challengerCard = document.querySelector('#challenger-card .song-title');
                const challengerArtist = document.querySelector('#challenger-card .artist-name');
                const challengerGenre = document.querySelector('#challenger-card .genre-tag');
                const challengerVideo = document.querySelector('#challenger-card .music-video source');
                
                championCard.textContent = champion.title;
                championArtist.textContent = champion.artist;
                championGenre.textContent = champion.genre;
                championVideo.src = champion.video;
                document.querySelector('#champion-card .music-video').load();
                
                challengerCard.textContent = challenger.title;
                challengerArtist.textContent = challenger.artist;
                challengerGenre.textContent = challenger.genre;
                challengerVideo.src = challenger.video;
                document.querySelector('#challenger-card .music-video').load();
                
                document.querySelectorAll('.music-card').forEach(card => {
                    card.classList.remove('playing');
                    card.querySelector('.music-video').pause();
                });
                currentlyPlaying = null;
            }

            // Choose winner
            function chooseWinner(index) {
                const winner = index === 0 ? currentChampion : {
                    title: document.querySelector('#challenger-card .song-title').textContent,
                    artist: document.querySelector('#challenger-card .artist-name').textContent,
                    genre: document.querySelector('#challenger-card .genre-tag').textContent,
                    video: document.querySelector('#challenger-card .music-video source').src
                };
                
                currentChampion = winner;
                
                if (remainingSongs.length === 0) {
                    showResult(winner);
                } else {
                    startBattle();
                }
            }

            // Show result
            function showResult(winner) {
                battleScreen.classList.add('hidden');
                resultScreen.classList.remove('hidden');
                
                document.querySelector('.winner-title').textContent = winner.title;
                document.querySelector('.winner-artist').textContent = winner.artist;
                document.querySelector('#winner-card .genre-tag').textContent = winner.genre;
                document.querySelector('#winner-card .music-video source').src = winner.video;
                document.querySelector('#winner-card .music-video').load();
                
                const listenerType = analyzeListenerType(winner);
                document.getElementById('listener-type').textContent = listenerType.type;
                document.getElementById('listener-description').textContent = listenerType.description;
                
                document.getElementById('genre-edm').style.width = `${listenerType.genres.edm || 0}%`;
                document.getElementById('genre-edm-percent').textContent = `${listenerType.genres.edm || 0}%`;
                
                document.getElementById('genre-piano').style.width = `${listenerType.genres.pop || 0}%`;
                document.getElementById('genre-piano-percent').textContent = `${listenerType.genres.pop || 0}%`;
                
                document.getElementById('genre-jazz').style.width = `${listenerType.genres.electronic || 0}%`;
                document.getElementById('genre-jazz-percent').textContent = `${listenerType.genres.electronic || 0}%`;
                
                document.querySelectorAll('.mood-badge').forEach(badge => {
                    badge.classList.remove('active');
                });
                
                if (listenerType.moods && listenerType.moods.length > 0) {
                    const moodMap = {
                        "energetic": "Energetic",
                        "melancholic": "Melancholic",
                        "uplifting": "Uplifting",
                        "romantic": "Romantic",
                        "reflective": "Chill",
                        "rebellious": "Rebellious",
                        "epic": "Epic",
                        "inspirational": "Inspirational"
                    };
                    
                    document.querySelectorAll('.mood-badge').forEach(badge => {
                        if (listenerType.moods.some(mood => moodMap[mood] === badge.textContent)) {
                            badge.classList.add('active');
                        }
                    });
                }
                
                createConfetti();
            }

            // Analyze listener type
            function analyzeListenerType(winner) {
                let winnerGenre = '';
                for (const [genre, songs] of Object.entries(musicCategories)) {
                    if (songs.includes(winner.title)) {
                        winnerGenre = genre;
                        break;
                    }
                }
                
                let winnerMood = '';
                for (const [mood, songs] of Object.entries(musicMoods)) {
                    if (songs.includes(winner.title)) {
                        winnerMood = mood;
                        break;
                    }
                }
                
                let bestMatch = listenerTypes[0];
                let highestScore = 0;
                
                for (const type of listenerTypes) {
                    let score = 0;
                    if (winnerGenre && type.genres[winnerGenre]) {
                        score += type.genres[winnerGenre];
                    }
                    if (winnerMood && type.moods.includes(winnerMood)) {
                        score += 50;
                    }
                    if (score > highestScore) {
                        highestScore = score;
                        bestMatch = type;
                    }
                }
                
                return bestMatch;
            }

            // Create confetti
            function createConfetti() {
                const colors = ['#c084fc', '#e879f9', '#60a5fa', '#f472b6', '#a78bfa'];
                for (let i = 0; i < 100; i++) {
                    const confetti = document.createElement('div');
                    confetti.classList.add('confetti');
                    confetti.style.left = `${Math.random() * 100}%`;
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.width = `${Math.random() * 10 + 5}px`;
                    confetti.style.height = `${Math.random() * 10 + 5}px`;
                    confetti.style.animationDuration = `${Math.random() * 2 + 2}s`;
                    confetti.style.animationDelay = `${Math.random() * 2}s`;
                    document.body.appendChild(confetti);
                    setTimeout(() => confetti.remove(), 5000);
                }
            }

            // Restart
            function restartBattle() {
                remainingSongs = [...songs];
                currentChampion = null;
                battleCount = 0;
                shuffleArray(remainingSongs);
                resultScreen.classList.add('hidden');
                homeScreen.classList.remove('hidden');
            }

            // Share result
            function shareResult() {
                const winner = document.querySelector('.winner-title').textContent;
                const artist = document.querySelector('.winner-artist').textContent;
                const listenerType = document.getElementById('listener-type').textContent;
                alert(`My ultimate favorite song is "${winner}" by ${artist} and I'm a ${listenerType}! Play the Music Verse Battle to discover yours!`);
            }

            // Shuffle array
            function shuffleArray(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
                return array;
            }

            // Music playback
            function setupMusicPlayback() {
                document.addEventListener('mouseover', function(e) {
                    const musicCard = e.target.closest('.music-card');
                    if (musicCard && !isMobileDevice()) {
                        playMusic(musicCard);
                    }
                });
                
                document.addEventListener('click', function(e) {
                    const musicCard = e.target.closest('.music-card');
                    if (musicCard && isMobileDevice()) {
                        playMusic(musicCard);
                    }
                });
                
                document.addEventListener('mouseout', function(e) {
                    const musicCard = e.target.closest('.music-card');
                    if (musicCard && !isMobileDevice()) {
                        stopMusic(musicCard);
                    }
                });
            }

            function isMobileDevice() {
                return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            }

            function playMusic(musicCard) {
                if (currentlyPlaying === musicCard) return;
                
                if (currentlyPlaying) {
                    currentlyPlaying.classList.remove('playing');
                    currentlyPlaying.querySelector('.music-video').pause();
                    currentlyPlaying.querySelector('.vinyl-container').classList.add('hidden');
                }
                
                musicCard.classList.add('playing');
                const video = musicCard.querySelector('.music-video');
                if (video.src) {
                    video.play();
                    musicCard.querySelector('.vinyl-container').classList.add('hidden');
                } else {
                    musicCard.querySelector('.vinyl-container').classList.remove('hidden');
                }
                currentlyPlaying = musicCard;
            }

            function stopMusic(musicCard) {
                musicCard.classList.remove('playing');
                musicCard.querySelector('.music-video').pause();
                musicCard.querySelector('.vinyl-container').classList.remove('hidden');
                if (currentlyPlaying === musicCard) {
                    currentlyPlaying = null;
                }
            }

            // Event listeners
            startButton.addEventListener('click', function() {
                shuffleArray(remainingSongs);
                startBattle();
            });
            
            restartButton.addEventListener('click', restartBattle);
            shareButton.addEventListener('click', shareResult);
            
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('choose-btn')) {
                    const index = parseInt(e.target.getAttribute('data-index'));
                    chooseWinner(index);
                }
            });

            // Initialize
            createStars();
            createFloatingNotes();
            setupMusicPlayback();
            shuffleArray(remainingSongs);
            totalBattlesEl.textContent = totalBattles;
        });
    </script>
</body>
</html>
